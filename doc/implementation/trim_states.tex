\section[Trim Conditions]{Finding Trim Conditions}

The trim conditions described in Section \ref{sec:model} play an important role when using a linear model, as the linear model is linearized about these states. Since the trim conditions also represent a straight level flight they are good initial values for states and controls in the optimization problem. In order to find the trim conditions a built-in Matlab function together with a Simulink model will be used. The procedure that is used is described by Beard \& McLain \cite{uavBEARD}, and a short summary will be given here.

Matlab features a built-in function \texttt{trim} that calculates the trim conditions of a given Simulink model. The Simulink model must be set up with the four control signals as inputs, and the output of the model is the airspeed $V_a$, the angle of attack $\alpha$ and the sideslip $\beta$. The out states are chosen as they can easily be used to express a trimmed stable flight. The airspeed is set to the desired cruise speed, while the angle of attack and sideslip is set to zero for a straight level flight. The function uses initial guesses of the states and inputs, also the derivatives, and what the desired output is. The Simulink model used in this thesis was developed by Gryte for his master thesis \cite{GRYTE}.