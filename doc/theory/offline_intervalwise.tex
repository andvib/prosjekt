\section{Offline Intervalwise MPC}

The control problem in this thesis will be solved by using an offline intervalwise MPC to generate an optimal path that will reduce the image error when using a fixed camera to survey a ground track. The generated path is intended to be tracked by the autopilot on the actual UAV that will perform the survey, with th eintention of optimally surveying the ground path.

\subsection{Offline MPC} 

An \textit{offline MPC} means that the initial state of the MPC is not a measurement of the UAV states, but rather the result of a simulation of the UAV. This means that the result from the prediction model used in the MPC will act as the physical system, and the outputs of the model will be fed back as inputs to the MPC for every iteration. The equations of the offline MPC are the same as the ones for the online version.

Rawlings \& Mayne \cite{mpcMAYNE} refers to this kind of problem as a \textit{deterministic problem} since there is no uncertainty in the system. A feedback loop in this kind of system is also not needed in principle, since it does not present any new information. They also state that an MPC action for a deterministic system is the same as the action from a \textit{receding horizon control law} (RHC), which is another kind of predictive control.

\subsection{Intervalwise MPC}

Altough the feedback is not needed to give new information, it eases the computational load of the control problem as optimizing the path over a long time horizon leads to a very complicated problem. For this reason a \textit{intervalwise MPC} will be used. The term intervalwise has been introduced by Kwon \& Han \cite{rhcKWON} to describe a type of receding horizon controller that implements the same strategy.

Commonly a MPC is used to optimize the model over a given \textit{horizon}, where the initial states are given. After the optimization has finished the first timestep of the optimization is returned and applied to the system, before a measurement of the system is performed. The new measurements are given as initial states for the next horizon, and so on.

The principle is the same for an intervalwise MPC. However, instead of only returning the first timestep an \textit{interval} of timesteps are returned, and the last timestep of the interval is used as intial states for the next optimization horizon. This way the number of MPC iterations is reduced, and the increased complexity by having long optimization horizons is avoided. Figure \ref{fig:opt_fig} shows how timesteps, intervals and horizons relate to each other.

\begin{figure}
	\import{/}{opt_fig.tex}
	\caption{The figure shows how the path is divided into sections and horizons when using the intervalwise MPC.}
	\label{fig:opt_fig}
\end{figure}